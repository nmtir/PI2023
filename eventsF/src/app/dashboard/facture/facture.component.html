
<div class="min-height-300 bg-primary position-absolute w-100"></div>
<aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 " id="sidenav-main">
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand m-0" href=" https://demos.creative-tim.com/argon-dashboard/pages/dashboard.html " target="_blank">
        <img src="assets/img/logo-ct-dark.png" class="navbar-brand-img h-100" alt="main_logo">
        <span class="ms-1 font-weight-bold">Argon Dashboard 2</span>
      </a>
    </div>
    <hr class="horizontal dark mt-0">
    <div style="height: 75%;" class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link " routerLink="/dashboard">
            <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-tv-2 text-primary text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link  "  routerLink="/list-membre">
            <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-calendar-grid-58 text-warning text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Users</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link  "  routerLink="/list-event">
            <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-calendar-grid-58 text-warning text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Events</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" routerLink="/facture">
            <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-credit-card text-success text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Réservation</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " routerLink="/profil">
            <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-app text-info text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Profil</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="../pages/rtl.html">
            <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-world-2 text-danger text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">RTL</span>
          </a>
        </li>
      
        <li class="nav-item">
          <a class="nav-link " routerLink="/profil">
            <div class="icon icon-shape icon-sm border-radius-md text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-single-02 text-dark text-sm opacity-10"></i>
            </div>
            <span class="nav-link-text ms-1">Profile</span>
          </a>
        </li>
     
      </ul>
    </div>
    
  </aside>
<main class="main-content position-relative border-radius-lg ">
  <!-- Navbar -->
  <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur" data-scroll="false">
    <div class="container-fluid py-1 px-3">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
          <li class="breadcrumb-item text-sm"><a class="opacity-5 text-white" routerLink="/home">Dashboard</a></li>
          <li class="breadcrumb-item text-sm text-white active" aria-current="page">Réservation</li>
        </ol>
        <h6 class="font-weight-bolder text-white mb-0">Réservation</h6>
      </nav>
      <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
        <div class="ms-md-auto pe-md-3 d-flex align-items-center">
          <div class="input-group">
            <span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span>
            <input type="text" class="form-control" placeholder="Type here...">
          </div>
        </div>
        
      </div>
    </div>
  </nav>
  <!-- End Navbar -->
  <div class="container-fluid py-4">
    <div class="row">
      <div class="col-12">
        <div class="card mb-4">
          <div class="card-header pb-0">
            <h6>Liste Réservation</h6>
          </div>
          <div class="card-body px-0 pt-0 pb-2">
            <div class="table-responsive p-0">
              <table class="table align-items-center mb-0">
                <thead>
                <tr>
                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Event</th>
                  <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Mmebre</th>
                  <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Date reservation</th>
                  <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Type event</th>
                  <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Status</th>
                  <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Activites</th>
                 
                  <th class="text-secondary opacity-7"></th>
                </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let item of reservations| paginate: { itemsPerPage: 10, currentPage: p }">
                        <tr>
                            <td>
                              <div class="d-flex px-2 py-1">
                                 
                                <div class="d-flex flex-column justify-content-center">
                                  <h6 class="mb-0 text-sm">{{item.event.title}}</h6>
                                  <p class="text-xs text-secondary mb-0"></p>
                                </div>
                              </div>
                            </td>
                            <td>
                                <p class="text-xs font-weight-bold mb-0" style="text-align: center;">{{item.user.firstName}} {{item.user.lastName}} </p>
                                 
                              </td>
                            <td>
                              <p class="text-xs font-weight-bold mb-0" style="text-align: center;">{{item.dateReservation|date:'dd-MM-yyyy'}}</p>
                               
                            </td>
                            <td class="align-middle text-center">
                                <span class="text-secondary text-xs font-weight-bold">{{item.event.type}}</span>
                              </td>

                              <td class="align-middle text-center text-sm">
                                 
                                
                                <span class="text-secondary text-xs font-weight-bold">{{item.status}}</span>
                              
                             
                              </td>
                            <td class="align-middle text-center text-sm">
                                 
                                
                              <span class="text-secondary text-xs font-weight-bold">{{item.event.activites.length}} Activities</span>
                            
                           
                            </td>
                           
                            <td class="align-middle">
                                 
                                    <a (click)="create(item.id)" href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">
                                        Confirmer
                                      </a>
                                      <a (click)="delete(item.id)" href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">
                                        Rejeter
                                      </a>
                                
                                   
                                    <a style="margin-left: 15px;" (click)="voucher(item.id)" href="javascript:;" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit user">
                                        Voucher
                                      </a>
                                   
                                     
                            </td>
                          </tr>
                        
                    </ng-container>
                    
              
                
               
               
           
                </tbody>
              </table>
              <div class="navigation">
                <pagination-controls (pageChange)="p = $event" previousLabel=" "
                nextLabel=" "></pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <footer class="footer pt-3  ">
      <div class="container-fluid">
        <div class="row align-items-center justify-content-lg-between">
          <div class="col-lg-6 mb-lg-0 mb-4">
          </div>
          <div class="col-lg-6">
            <ul class="nav nav-footer justify-content-center justify-content-lg-end">

            </ul>
          </div>
        </div>
      </div>
    </footer>
  </div>
</main>
<div class="v" style="display: none;">
<div class="voucher"   id="content"  *ngIf="reservation!=null" #content>

  <header style="margin: 50px;">
    <h1>Invoice</h1>
    <address contenteditable>
      <p>{{reservation?.user.firstName}} {{reservation?.user?.lastName}}</p>
      <p><br>{{reservation?.user?.email}}</p>
      <p>{{reservation?.user?.phone}}</p>
    </address>
     
  </header>
  <article>
    
    <address contenteditable style="padding-left: 40px;">
      <p>Responsable finaciaire<br>Admin admin</p>
    </address>
    <table class="meta">
      <tr>
        <th><span contenteditable>Invoice #</span></th>
        <td><span contenteditable>101138</span></td>
      </tr>
      <tr>
        <th><span contenteditable>Date</span></th>
        <td><span contenteditable>{{reservation.dateReservation|date:'dd-MM-yyyy'}}</span></td>
      </tr>
      <tr>
        <th><span contenteditable>Amount Due</span></th>
        <td><span id="prefix" contenteditable> </span><span>{{total}} DT</span></td>
      </tr>
    </table>

   
    <table class="inventory">
      
      <thead>
        <tr>
          <th><span contenteditable>Activity</span></th>
          <th><span contenteditable>Description</span></th>
          <th><span contenteditable>Heure début</span></th>
          <th><span contenteditable>Heure fin</span></th>
          <th><span contenteditable>Type</span></th>
          <th><span contenteditable>Montant</span></th>
          
        </tr>
      </thead>
      <tbody>
         
        <ng-container *ngFor="let item of reservation?.event?.activites">
        
        <tr>
          <td><a class="cut">-</a><span contenteditable>{{item.title}}</span></td>
          <td><span contenteditable>{{item.description}}</span></td>
          <td><span contenteditable>{{item.debut}} H</span></td>
          <td><span contenteditable>{{item.fin}} H</span></td>
          <td><span contenteditable>{{item.type}} DT</span></td>
          <td><span contenteditable>{{item.montant}} DT</span></td>
           
        </tr>
      </ng-container>
<!--
        <tr>
          <td><a class="cut">-</a><span contenteditable>Back End Consultation</span></td>
          <td><span contenteditable>Experience Review</span></td>
          <td><span data-prefix>$</span><span contenteditable>150.00</span></td>
          <td><span contenteditable>4</span></td>
          <td><span data-prefix>$</span><span>600.00</span></td>
        </tr>
       
        <tr>
          <td><a class="cut">-</a><span contenteditable>Mongodb workshop</span></td>
          <td><span contenteditable>Experience Review</span></td>
          <td><span data-prefix>$</span><span contenteditable>150.00</span></td>
          <td><span contenteditable>4</span></td>
          <td><span data-prefix>$</span><span>600.00</span></td>
        </tr> -->
      </tbody>
    </table>
    <!---->
    <table class="balance">
      <tr>
        <th><span contenteditable>Total</span></th>
        <td><span data-prefix>DT</span><span>{{total}}</span></td>
      </tr>
      <tr>
        <th><span contenteditable>Amount Paid</span></th>
        <td><span data-prefix>DT</span><span contenteditable>{{total}}</span></td>
      </tr>
    
    </table>
  </article>
  <aside>
    <h1><span contenteditable>Additional Notes</span></h1>
    <div contenteditable>
      <p style="text-align: center;">A finance charge of 1.5% will be made on unpaid balances after 30 days.</p>
    </div>
  </aside>

</div>
</div>